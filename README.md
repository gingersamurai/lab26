# Отчет по лабораторной работе N 26 по курсу
# "Фундаментальная информатика"

**студент группы:** М8О-110Б-21, Малышев Назим Бахтиярович\
**Контакты:** nazimmalyshev47@gmail.com\
**работа выполнена:** 14.05.2022\
**Преподаватель:** Никулин Сергей Петрович

## 1. Тема
Абстрактные типы данных. Рекурсия.Модульное программирование на
языке Си.

## 2. Цель работы
Овладеть навыками работы с абстрактными типами данных.

## 3. Задание
6 номер. Метод вставки.

## 4. Оборудование 
**CPU:** Intel Core i7-8550U\
**RAM:** 8 GB\
**SSD:** 256 GB\
**MONITOR:** 2560 x 1440

## 5. Программное обеспечивание 
**Операционная система семейства:** ubuntu, **версия** 20.04 LTS\
**Интерпретатор команд:** bash, **версия** 5.0.17(1)-release.\
**Система программирования**: --, **версия**-- \
**Редактор текстов:** vs code, **версия** 1.66.1\
**Утилиты операционной системы:** --\
**Прикладные системы и программы:** --

## 6. Идея, метод, алгоритм
1. создать очередь
2. прописать основные методы
3. в задании сначала найти элемент, у которого правый сосед больше
4. до тех пор пока п.3 выполняется менять значение с правым соседом 

# 7. Сценарий выполнения работы
1. реализация очереди в queue.c queue.h
4. реализация основного файла main.c
5. настройка сборки и запуска проекта в makefile
6. тестирование
7. написание отчета 

# 8. Распечатка протокола

**main.c**
```c
#include <stdio.h>
#include <stdlib.h>

#include "queue.h"

void print_menu(){
    printf("┌─────────────────────────────────────┐\n");
    printf("│1.добавить Х в конец очереди вершину │\n");
    printf("│2.удалить из конца очереди вершину   │\n");
    printf("│3.выполнить задание                  │\n");
    printf("│4.напечатать очередь                 │\n");
    printf("│5.завершить работу программы         │\n");
    printf("└─────────────────────────────────────┘\n");
    printf("введите запрос: ");
}

int main(){
    node *front = NULL;
    node *back = NULL;
    int q = 0;
    while (q != 5){
        print_menu();
        scanf("%d", &q);
        if (q == 1){
            printf("введите Х:");
            int x;
            scanf("%d", &x);
            node *new_node = create_node(x);
            push_back(new_node, &back, &front);
        } else if (q == 2){
            pop_back(&back, &front);
        } else if (q == 3){
            task(back, front);
        } else if (q == 4){
            print_queue(back, front);
        }
    }
}
```

**queue.h**
```c
#ifndef QUEUE_H
#define QUEUE_H

typedef struct _node node;

struct _node{
    int value;
    node *next;
};

// печатаем очередь
void print_queue(node *back, node *front);

// создаем вершину
node *create_node(int val);

// добавляем вершину в конец очереди
void push_back(node *now, node **back, node **front);

// удаляем вершину из начала очереди
void pop_back(node **back, node **front);

// выполняет 6 задание
void task(node *back, node *front);

#endif
```


**queue.c**
```c
#include <stdio.h>
#include <stdlib.h>

#include "queue.h"

void print_queue(node *back, node *front){
    node *now = front;
    printf("[ ");
    while(now != back) {

        printf("%d ", now->value);
        now = now->next;
    }
    if (now != NULL) printf("%d ", now->value);
    printf("]\n");
}

node *create_node(int _value){
    node *resnode = (node *) malloc(sizeof(node));
    resnode->value = _value;
    resnode->next = NULL;
    return resnode;
}

void push_back(node *now, node **back, node **front){
    if (now == NULL) printf("SUPERBAD\n");
    if (*front == NULL && *back == NULL) {
        printf("EMPTY\n");
        *front = now;
        *back = now;
    } else {
        (*back)->next = now;
        *back = now;
    }
}

void pop_back(node **back, node **front){
    node *ext = *front;
    
    if (*back == *front) {
        *back = NULL;
        *front = NULL; 
    } else {
        printf("%d -> %d\n", (*front)->value, (*front)->next->value);
        *front = (*front)->next;
    }
    free(ext);
}

void swap(node *a, node *b){
    int add = a->value;
    a->value = b->value;
    b->value = add;
}

void task (node *back, node *front){
    node *now = front;
    while (1) {
        if (now == NULL || now == back) {
            return;
        } else if (now->value < now->next->value) {
            break;
        }
        now = now->next;
    }

    while(1) {
        if (now == NULL || now == back) {
            return;
        } else if (now->value < now->next->value) {
            swap(now, now->next);
            now = now->next;
        } else {
            return;
        }
    }
}
```



**makefile**
```make
run: main
	./main
main: queue.o main.o
	gcc queue.o main.o -o main
queue.o: queue.c
	gcc -c queue.c -o queue.o
main.o: main.c
	gcc -c main.c -o main.o

clean:
	rm -f main.o queue.o main

```

### пример работы
```
gingersamurai@LY530:~/coding/lab/lab25-26$ make 
./main
┌─────────────────────────────────────┐
│1.добавить Х в конец очереди вершину │
│2.удалить из конца очереди вершину   │
│3.выполнить задание                  │
│4.напечатать очередь                 │
│5.завершить работу программы         │
└─────────────────────────────────────┘
введите запрос: 1
введите Х:1
EMPTY
┌─────────────────────────────────────┐
│1.добавить Х в конец очереди вершину │
│2.удалить из конца очереди вершину   │
│3.выполнить задание                  │
│4.напечатать очередь                 │
│5.завершить работу программы         │
└─────────────────────────────────────┘
введите запрос: 1
введите Х:3
┌─────────────────────────────────────┐
│1.добавить Х в конец очереди вершину │
│2.удалить из конца очереди вершину   │
│3.выполнить задание                  │
│4.напечатать очередь                 │
│5.завершить работу программы         │
└─────────────────────────────────────┘
введите запрос: 1
введите Х:5
┌─────────────────────────────────────┐
│1.добавить Х в конец очереди вершину │
│2.удалить из конца очереди вершину   │
│3.выполнить задание                  │
│4.напечатать очередь                 │
│5.завершить работу программы         │
└─────────────────────────────────────┘
введите запрос: 1
введите Х:2
┌─────────────────────────────────────┐
│1.добавить Х в конец очереди вершину │
│2.удалить из конца очереди вершину   │
│3.выполнить задание                  │
│4.напечатать очередь                 │
│5.завершить работу программы         │
└─────────────────────────────────────┘
введите запрос: 1
введите Х:4
┌─────────────────────────────────────┐
│1.добавить Х в конец очереди вершину │
│2.удалить из конца очереди вершину   │
│3.выполнить задание                  │
│4.напечатать очередь                 │
│5.завершить работу программы         │
└─────────────────────────────────────┘
введите запрос: 4
[ 1 3 5 2 4 ]
┌─────────────────────────────────────┐
│1.добавить Х в конец очереди вершину │
│2.удалить из конца очереди вершину   │
│3.выполнить задание                  │
│4.напечатать очередь                 │
│5.завершить работу программы         │
└─────────────────────────────────────┘
введите запрос: 2
1 -> 3
┌─────────────────────────────────────┐
│1.добавить Х в конец очереди вершину │
│2.удалить из конца очереди вершину   │
│3.выполнить задание                  │
│4.напечатать очередь                 │
│5.завершить работу программы         │
└─────────────────────────────────────┘
введите запрос: 4
[ 3 5 2 4 ]
┌─────────────────────────────────────┐
│1.добавить Х в конец очереди вершину │
│2.удалить из конца очереди вершину   │
│3.выполнить задание                  │
│4.напечатать очередь                 │
│5.завершить работу программы         │
└─────────────────────────────────────┘
введите запрос: 2
3 -> 5
┌─────────────────────────────────────┐
│1.добавить Х в конец очереди вершину │
│2.удалить из конца очереди вершину   │
│3.выполнить задание                  │
│4.напечатать очередь                 │
│5.завершить работу программы         │
└─────────────────────────────────────┘
введите запрос: 4
[ 5 2 4 ]
┌─────────────────────────────────────┐
│1.добавить Х в конец очереди вершину │
│2.удалить из конца очереди вершину   │
│3.выполнить задание                  │
│4.напечатать очередь                 │
│5.завершить работу программы         │
└─────────────────────────────────────┘
введите запрос: 2
5 -> 2
┌─────────────────────────────────────┐
│1.добавить Х в конец очереди вершину │
│2.удалить из конца очереди вершину   │
│3.выполнить задание                  │
│4.напечатать очередь                 │
│5.завершить работу программы         │
└─────────────────────────────────────┘
введите запрос: 4
[ 2 4 ]
┌─────────────────────────────────────┐
│1.добавить Х в конец очереди вершину │
│2.удалить из конца очереди вершину   │
│3.выполнить задание                  │
│4.напечатать очередь                 │
│5.завершить работу программы         │
└─────────────────────────────────────┘
введите запрос: 2
2 -> 4
┌─────────────────────────────────────┐
│1.добавить Х в конец очереди вершину │
│2.удалить из конца очереди вершину   │
│3.выполнить задание                  │
│4.напечатать очередь                 │
│5.завершить работу программы         │
└─────────────────────────────────────┘
введите запрос: 4
[ 4 ]
┌─────────────────────────────────────┐
│1.добавить Х в конец очереди вершину │
│2.удалить из конца очереди вершину   │
│3.выполнить задание                  │
│4.напечатать очередь                 │
│5.завершить работу программы         │
└─────────────────────────────────────┘
введите запрос: 2
┌─────────────────────────────────────┐
│1.добавить Х в конец очереди вершину │
│2.удалить из конца очереди вершину   │
│3.выполнить задание                  │
│4.напечатать очередь                 │
│5.завершить работу программы         │
└─────────────────────────────────────┘
введите запрос: 4
[ ]
┌─────────────────────────────────────┐
│1.добавить Х в конец очереди вершину │
│2.удалить из конца очереди вершину   │
│3.выполнить задание                  │
│4.напечатать очередь                 │
│5.завершить работу программы         │
└─────────────────────────────────────┘
введите запрос: 1
введите Х:1
EMPTY
┌─────────────────────────────────────┐
│1.добавить Х в конец очереди вершину │
│2.удалить из конца очереди вершину   │
│3.выполнить задание                  │
│4.напечатать очередь                 │
│5.завершить работу программы         │
└─────────────────────────────────────┘
введите запрос: 1
введите Х:2
┌─────────────────────────────────────┐
│1.добавить Х в конец очереди вершину │
│2.удалить из конца очереди вершину   │
│3.выполнить задание                  │
│4.напечатать очередь                 │
│5.завершить работу программы         │
└─────────────────────────────────────┘
введите запрос: 1
введите Х:3
┌─────────────────────────────────────┐
│1.добавить Х в конец очереди вершину │
│2.удалить из конца очереди вершину   │
│3.выполнить задание                  │
│4.напечатать очередь                 │
│5.завершить работу программы         │
└─────────────────────────────────────┘
введите запрос: 1
введите Х:4
┌─────────────────────────────────────┐
│1.добавить Х в конец очереди вершину │
│2.удалить из конца очереди вершину   │
│3.выполнить задание                  │
│4.напечатать очередь                 │
│5.завершить работу программы         │
└─────────────────────────────────────┘
введите запрос: 4
[ 1 2 3 4 ]
┌─────────────────────────────────────┐
│1.добавить Х в конец очереди вершину │
│2.удалить из конца очереди вершину   │
│3.выполнить задание                  │
│4.напечатать очередь                 │
│5.завершить работу программы         │
└─────────────────────────────────────┘
введите запрос: 3
┌─────────────────────────────────────┐
│1.добавить Х в конец очереди вершину │
│2.удалить из конца очереди вершину   │
│3.выполнить задание                  │
│4.напечатать очередь                 │
│5.завершить работу программы         │
└─────────────────────────────────────┘
введите запрос: 4
[ 2 3 4 1 ]
┌─────────────────────────────────────┐
│1.добавить Х в конец очереди вершину │
│2.удалить из конца очереди вершину   │
│3.выполнить задание                  │
│4.напечатать очередь                 │
│5.завершить работу программы         │
└─────────────────────────────────────┘
введите запрос: 3
┌─────────────────────────────────────┐
│1.добавить Х в конец очереди вершину │
│2.удалить из конца очереди вершину   │
│3.выполнить задание                  │
│4.напечатать очередь                 │
│5.завершить работу программы         │
└─────────────────────────────────────┘
введите запрос: 4
[ 3 4 2 1 ]
┌─────────────────────────────────────┐
│1.добавить Х в конец очереди вершину │
│2.удалить из конца очереди вершину   │
│3.выполнить задание                  │
│4.напечатать очередь                 │
│5.завершить работу программы         │
└─────────────────────────────────────┘
введите запрос: 3
┌─────────────────────────────────────┐
│1.добавить Х в конец очереди вершину │
│2.удалить из конца очереди вершину   │
│3.выполнить задание                  │
│4.напечатать очередь                 │
│5.завершить работу программы         │
└─────────────────────────────────────┘
введите запрос: 4
[ 4 3 2 1 ]
┌─────────────────────────────────────┐
│1.добавить Х в конец очереди вершину │
│2.удалить из конца очереди вершину   │
│3.выполнить задание                  │
│4.напечатать очередь                 │
│5.завершить работу программы         │
└─────────────────────────────────────┘
введите запрос: 5
gingersamurai@LY530:~/coding/lab/lab25-26$ git commit -m 'made task'
[master eafda0c] made task
 6 files changed, 33 insertions(+), 1 deletion(-)
 rewrite main.o (94%)
 rewrite queue.o (84%)
gingersamurai@LY530:~/coding/lab/lab25-26$ git push
Перечисление объектов: 15, готово.
Подсчет объектов: 100% (15/15), готово.
При сжатии изменений используется до 8 потоков
Сжатие объектов: 100% (8/8), готово.
Запись объектов: 100% (8/8), 2.54 КиБ | 2.54 МиБ/с, готово.
Всего 8 (изменения 6), повторно использовано 0 (изменения 0)
remote: Resolving deltas: 100% (6/6), completed with 6 local objects.
To https://github.com/gingersamurai/lab26.git
   8da3b19..eafda0c  master -> master
gingersamurai@LY530:~/coding/lab/lab25-26$ 


```


## 9. Дневник отладки
--

## 10. Замечания автора
--
## 11. Выводы
Мной была изучена такая структура, как очередь.\
Очередь – очень полезная структура,
которая может решать различные задачи